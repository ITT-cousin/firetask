<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>æŸ´ç«äº’å‹•ç¯„ä¾‹ï¼ˆç”Ÿå‹•ç«ç„°ç‰ˆï¼‰</title>
<style>
  body {
    background-color: #000;
    background-image: url('day.png');  /* æ–°å¢ï¼šèƒŒæ™¯åœ–ç‰‡ */
    background-size: contain;          /* æ–°å¢ï¼šèƒŒæ™¯ä¾æ¯”ä¾‹ç¸®æ”¾ */
    background-repeat: no-repeat;      /* æ–°å¢ï¼šèƒŒæ™¯ä¸é‡è¤‡ */
    background-position: center;       /* æ–°å¢ï¼šèƒŒæ™¯ç½®ä¸­ */
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    flex-direction: column;
    color: #fff;
    font-family: sans-serif;
  }

  .fire-container {
    position: absolute;   /* æ–°å¢ï¼šçµ•å°å®šä½æ–¹ä¾¿ç…™éœ§ã€æ–‡å­—ã€æŸ´ç«ç¶å®š */
    bottom: 70px;         /* æ–°å¢ï¼šè·é›¢åº•éƒ¨å›ºå®šä½ç½® */
    left: 45%;
    transform: translateX(-50%);
    width: 250px;         /* æ–°å¢ï¼šæŸ´ç«å®¹å™¨å¤§å° */
  }

  #fireImage {
    width: 100%;          /* æ–°å¢ï¼šæŸ´ç«éš¨å®¹å™¨å¤§å°èª¿æ•´ */  
    height: auto;
    cursor: pointer;
    transition: transform 0.3s ease;
    display: block;
  }

  #fireImage:active {
    transform: scale(1.1); /* æ–°å¢ï¼šé»æ“ŠæŸ´ç«æœ‰ç¸®æ”¾æ•ˆæœ */
  }

  /* message ç§»åˆ°æŸ´ç«å®¹å™¨å…§ï¼Œè·ŸæŸ´ç«ç¶å®š */
  #message {
    position: absolute;   /* æ–°å¢ï¼šçµ•å°å®šä½ï¼Œç›¸å° fire-container */
    bottom: -50px;        /* æ–°å¢ï¼šè·é›¢æŸ´ç«åº•éƒ¨ */
    left: 50%;
    transform: translateX(-50%);
    font-size: 1.2em;
    text-align: center;
    min-height: 1.5em;
    width: max-content;
  }

  /* ç…™éœ§å…ƒç´  */
  #smoke {
    position: absolute;
    width: 30%;           /* æ–°å¢ï¼šç…™éœ§å¤§å°éš¨å®¹å™¨ç¸®æ”¾ */
    height: 30%;          /* æ–°å¢ */
    top: 0;
    left: 50%;
    transform: translateX(-50%);
    pointer-events: none;
    opacity: 0;           /* æ–°å¢ï¼šåˆå§‹éš±è— */
    background: url('smoke.png') no-repeat center/contain; /* æ–°å¢ï¼šç…™éœ§åœ–ç‰‡ */
  }

  .smoke-active {         /* æ–°å¢ï¼šæŸ´ç«é»ç‡ƒæ™‚ç…™éœ§å‹•ç•« */
    opacity: 1;
    animation: smokeRise 3s linear infinite;
    animation-play-state: running;
  }

  @keyframes smokeRise {  /* æ–°å¢ï¼šç…™éœ§å‹•ç•« */
    0% { transform: translate(-50%, -20px) scale(1); opacity: 0.2; }
    50% { transform: translate(-50%, -80px) scale(1.3); opacity: 0.4; }
    100% { transform: translate(-50%, -160px) scale(1.7); opacity: 0; } /* é£„å¾—æ›´é«˜ */
  }

  /* æŸ´ç«è¬›è©±æ¡† */
  #fireDialog {
    position: absolute;
    top: -50px;
    right: -10px;
    background: rgba(255, 255, 255, 0.9);
    color: #000;
    padding: 6px 10px;
    border-radius: 8px;
    font-size: 0.9em;
    min-width: 80px;
    text-align: center;
    pointer-events: none;
    opacity: 0;
    transition: opacity 0.3s;
    z-index: 10;
  }

  #fireDialog::after {
    content: '';
    position: absolute;
    bottom: -8px;
    left: 20px;
    border-width: 8px 8px 0 8px;
    border-style: solid;
    border-color: rgba(255,255,255,0.9) transparent transparent transparent;
  }
</style>
</head>
<body>

<div class="fire-container" id="fireContainer">
  <img src="wood.png" alt="æŸ´ç«" id="fireImage"> <!-- æ–°å¢ï¼šæŸ´ç«åœ–ç‰‡ -->
  <div id="smoke"></div>                        <!-- æ–°å¢ï¼šç…™éœ§å…ƒç´  -->
  <div id="fireDialog"></div>                   <!-- æ–°å¢ï¼šæŸ´ç«è¬›è©±æ¡† -->
  <div id="message">å¤©ç„¶ç„¡å®³çš„æŸ´ç«</div>       <!-- æ–°å¢ï¼šæ–‡å­—ç¶å®šæŸ´ç« -->
</div>

<script>
  const fireImage = document.getElementById('fireImage');
  const fireContainer = document.getElementById('fireContainer');
  const message = document.getElementById('message');  // æ–°å¢ï¼šæ–‡å­—å…ƒç´ 
  const smoke = document.getElementById('smoke');      // æ–°å¢ï¼šç…™éœ§å…ƒç´ 
  const fireDialog = document.getElementById('fireDialog'); // æ–°å¢ï¼šæŸ´ç«è¬›è©±æ¡†

  const states = {
    wood: 'wood.png',                // åŸæœ¨æŸ´
    fireFrames: ['fire1.png','fire2.png'], // ç‡ƒç‡’å‹•ç•«
    burnt: 'burnt.png'               // ç‡’éçš„æŸ´ç«
  };

  let state = 'wood';
  let clickCount = 0;
  const maxClicks = 15;
  let fireIndex = 0;
  let fireInterval = null;

  // æ–°å¢ï¼šæ‰“å­—æ©Ÿæ•ˆæœå‡½æ•¸
  function typeWriter(element, text, speed=50) {
    element.textContent = '';
    let i=0;
    const interval = setInterval(() => {
      element.textContent += text[i];
      i++;
      if (i >= text.length) clearInterval(interval);
    }, speed);
    element.style.opacity = 1;
    setTimeout(() => element.style.opacity = 0, text.length*speed + 1500);
  }

  fireImage.addEventListener('click', () => {
    clickCount++;

    // æ–°å¢ï¼šä¸åŒé»æ“Šæ¬¡æ•¸é¡¯ç¤ºæŸ´ç«å°è©±
    if(clickCount===1) typeWriter(fireDialog,'å—¨ï¼');
    else if(clickCount===5) typeWriter(fireDialog,'å°åŠ›ä¸€é»ï½');
    else if(clickCount===10) typeWriter(fireDialog,'æˆ‘æ„Ÿè¦ºä¸å¤ªå°å‹â€¦');

    // æŸ´ç«ç‹€æ…‹é‚è¼¯
    if(state==='wood'){
      state='fire';
      fireImage.src = states.fireFrames[0];
      fireInterval = setInterval(()=>{
        fireIndex = (fireIndex+1)%states.fireFrames.length;
        fireImage.src = states.fireFrames[fireIndex];
      },2000);
      message.textContent='ä»Šå¤©ä½ é»ç‡ƒäº†æŸ´ç«ï¼Œä½¿ä½ å……æ»¿äº†æ±ºå¿ƒğŸ”¥'; // æ–°å¢ï¼šæ–‡å­—é¡¯ç¤º
      smoke.classList.add('smoke-active');  // æ–°å¢ï¼šç…™éœ§å•Ÿå‹•
    }
    else if(state==='fire'){
      if(clickCount===14) message.textContent='ç«ç„°å³å°‡é”åˆ°å·”å³°ï¼ğŸŒŸ';
      else if(clickCount>=maxClicks){
        clearInterval(fireInterval);
        fireInterval=null;
        fireIndex=0;
        fireImage.src=states.burnt;
        message.textContent='ç«ç„°ç†„æ»…ï¼Œå‘¨åœå®‰éœäº†ä¸‹ä¾†'; // æ–°å¢ï¼šæ–‡å­—é¡¯ç¤º
        smoke.classList.remove('smoke-active'); // æ–°å¢ï¼šåœæ­¢ç…™éœ§
        state='burnt';
      }else{
        message.textContent='ç«è¶Šä¾†è¶Šæ—ºï¼ğŸ”¥ğŸ”¥ğŸ”¥'; // æ–°å¢ï¼šæ–‡å­—é¡¯ç¤º
      }
    }
    else if(state==='burnt'){
      fireImage.src=states.wood;
      message.textContent='æŸ´ç«é‡æ–°å †å¥½'; // æ–°å¢ï¼šæ–‡å­—é¡¯ç¤º
      state='wood';
      clickCount=0;
    }
  });
</script>

</body>
</html>
